<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" 
    fx:controller="com.bibliotheque.controller.LivreController" spacing="15" style="-fx-padding: 15; -fx-background-color: #f5f7fa;" fx:id="livrePane">
    
    <!-- Formulaire d'ajout/modification -->
    <VBox style="-fx-background-color: white; -fx-padding: 15; -fx-border-color: #bdc3c7; -fx-border-radius: 5; -fx-border-width: 1;">
        <Label text="ðŸ“ Formulaire de Livre" style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #2c3e50; -fx-padding: 10 0 10 0; -fx-border-color: #3498db; -fx-border-width: 0 0 2 0;"/>
        
        <GridPane hgap="15" vgap="12" style="-fx-padding: 10 0 0 0;">
            <columnConstraints>
                <ColumnConstraints minWidth="80" prefWidth="100"/>
                <ColumnConstraints hgrow="ALWAYS"/>
                <ColumnConstraints minWidth="80" prefWidth="100"/>
                <ColumnConstraints hgrow="ALWAYS" prefWidth="150"/>
            </columnConstraints>
            
            <Label text="ISBN:" style="-fx-font-weight: bold; -fx-text-fill: #34495e;" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
            <TextField fx:id="tfISBN" GridPane.columnIndex="1" GridPane.rowIndex="0" 
                       promptText="978-XXXXXXXXXX" style="-fx-padding: 8; -fx-border-color: #bdc3c7; -fx-border-radius: 4;"/>
            
            <Label text="AnnÃ©e:" style="-fx-font-weight: bold; -fx-text-fill: #34495e;" GridPane.columnIndex="2" GridPane.rowIndex="0"/>
            <Spinner fx:id="spinnerAnnee" GridPane.columnIndex="3" GridPane.rowIndex="0" 
                     initialValue="2024" min="1000" max="2100"/>
            
            <Label text="Titre:" style="-fx-font-weight: bold; -fx-text-fill: #34495e;" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
            <TextField fx:id="tfTitre" GridPane.columnIndex="1" GridPane.columnSpan="3" GridPane.rowIndex="1" 
                       promptText="Titre du livre" style="-fx-padding: 8; -fx-border-color: #bdc3c7; -fx-border-radius: 4;"/>
            
            <Label text="Auteur:" style="-fx-font-weight: bold; -fx-text-fill: #34495e;" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
            <TextField fx:id="tfAuteur" GridPane.columnIndex="1" GridPane.rowIndex="2" 
                       promptText="Nom de l'auteur" style="-fx-padding: 8; -fx-border-color: #bdc3c7; -fx-border-radius: 4;"/>
            
            <Label text="Disponible:" style="-fx-font-weight: bold; -fx-text-fill: #34495e;" GridPane.columnIndex="2" GridPane.rowIndex="2"/>
            <CheckBox fx:id="cbDisponible" GridPane.columnIndex="3" GridPane.rowIndex="2" selected="true"/>
            
            <!-- Boutons -->
            <HBox spacing="10" GridPane.columnIndex="0" GridPane.columnSpan="4" GridPane.rowIndex="3" style="-fx-padding: 15 0 0 0;">
                <Button fx:id="btnAjouter" text="âœ“ Ajouter" onAction="#handleAjouter" 
                        style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 25; -fx-border-radius: 4; -fx-cursor: hand;"/>
                <Button fx:id="btnModifier" text="âœŽ Modifier" onAction="#handleModifier" 
                        style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 25; -fx-border-radius: 4; -fx-cursor: hand;"/>
                <Button fx:id="btnSupprimer" text="âœ• Supprimer" onAction="#handleSupprimer" 
                        style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 25; -fx-border-radius: 4; -fx-cursor: hand;"/>
            </HBox>
        </GridPane>
    </VBox>
    
    <!-- Barre de recherche -->
    <VBox style="-fx-background-color: white; -fx-padding: 15; -fx-border-color: #bdc3c7; -fx-border-radius: 5; -fx-border-width: 1;">
        <Label text="ðŸ” Recherche" style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #2c3e50; -fx-padding: 10 0 10 0; -fx-border-color: #3498db; -fx-border-width: 0 0 2 0;"/>
        
        <HBox spacing="10" style="-fx-padding: 10 0 0 0;">
            <TextField fx:id="tfRecherche" HBox.hgrow="ALWAYS" 
                       promptText="Recherchez par titre ou auteur..." style="-fx-padding: 8; -fx-border-color: #bdc3c7; -fx-border-radius: 4;"/>
            <Button fx:id="btnRechercher" text="Rechercher" 
                    style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 25; -fx-border-radius: 4; -fx-cursor: hand;" 
                    onAction="#handleRechercher" prefWidth="120"/>
            <Button text="ðŸ“Š Statistiques" 
                    style="-fx-background-color: #9b59b6; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 25; -fx-border-radius: 4; -fx-cursor: hand;" 
                    onAction="#handleStatistiques" prefWidth="140"/>
        </HBox>
    </VBox>
    
    <!-- Tableau des livres -->
    <VBox style="-fx-background-color: white; -fx-padding: 15; -fx-border-color: #bdc3c7; -fx-border-radius: 5; -fx-border-width: 1;" VBox.vgrow="ALWAYS">
        <Label text="ðŸ“š Liste des Livres" style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #2c3e50; -fx-padding: 10 0 10 0; -fx-border-color: #3498db; -fx-border-width: 0 0 2 0;"/>
        
        <TableView fx:id="tableViewLivres" VBox.vgrow="ALWAYS" style="-fx-padding: 10 0 0 0;">
            <columns>
                <TableColumn fx:id="colISBN" text="ISBN" prefWidth="140" sortable="true"/>
                <TableColumn fx:id="colTitre" text="Titre" prefWidth="250" sortable="true"/>
                <TableColumn fx:id="colAuteur" text="Auteur" prefWidth="180" sortable="true"/>
                <TableColumn fx:id="colAnnee" text="AnnÃ©e" prefWidth="100" sortable="true"/>
                <TableColumn fx:id="colDisponible" text="Disponible" prefWidth="120" sortable="true"/>
            </columns>
            <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/></columnResizePolicy>
        </TableView>
    </VBox>
</VBox>
